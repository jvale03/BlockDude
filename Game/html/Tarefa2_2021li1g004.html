<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2_2021li1g004</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o Carlos Oliveira Vale &lt;a100697@alunos.uminho.pt&gt;; &lt;carlosvalejcov@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2021li1g004</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:buildMatrix">buildMatrix</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]]</li><li class="src short"><a href="#v:updateMatrix">updateMatrix</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]]</li><li class="src short"><a href="#v:tamanho">tamanho</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int</li><li class="src short"><a href="#v:cortavazio">cortavazio</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:ordena">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:function">function</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="doc"><h1 class="caption details-toggle-control details-toggle" data-details-id="ch:desconstroiMapa0">ConstroiMapa</h1><details id="ch:desconstroiMapa0"><summary class="hide-when-js-enabled">Expand</summary><h2>Auxiliares</h2></details></div></div><div class="top"><p class="src"><a id="v:buildMatrix" class="def">buildMatrix</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] <a href="#v:buildMatrix" class="selflink">#</a></p><div class="doc"><pre>buildMatrix [] = []
buildMatrix [(peca,(x,y))] = replicate (y+1) (replicate (x+1) Vazio)
buildMatrix f@((peca,(x,y)):t) = replicate   
    ((maximum (listy f))+1) (replicate ((maximum (listx f))+1) Vazio)
        where 
            listx [] = []
            listx ((peca,(x,y)):t) = x:listx t    
            listy [] = []
            listy ((peca,(x,y)):t) = y:listy t
</pre><p>Fun&#231;&#227;o que <strong>cria</strong> uma <em>matriz</em> com as dimens&#245;es do mapa em que <code>todos</code> os elementos 
da mesma s&#227;o <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>. Ficando ja assim declarados tamb&#233;m os elementos por 
omiss&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:updateMatrix" class="def">updateMatrix</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] <a href="#v:updateMatrix" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o <strong>substitui</strong> na <em>matriz</em> construida na auxiliar anterior, os 
espa&#231;os onde as pe&#231;as s&#227;o <code>diferentes</code> de <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>. Ficando assim o <code><a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></code>
do jogo concluido.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>updateMatrix [(Bloco,(1,1))] [[Vazio,Vazio],[Vazio,Vazio]]
</code></strong>[[Vazio,Vazio],[Vazio,Bloco]]
</pre><h1 class="caption details-toggle-control details-toggle" data-details-id="ch:updateMatrix0">DesconstroiMapa</h1><details id="ch:updateMatrix0"><summary class="hide-when-js-enabled">Expand</summary><h2>Auxiliares</h2></details></div></div><div class="top"><p class="src"><a id="v:tamanho" class="def">tamanho</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int <a href="#v:tamanho" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o auxilia na contagem de coordenadas, pois a cada vez
que acaba a linha de <strong>x</strong>, adiciona +1 ao <strong>y</strong>.</p></div></div><div class="top"><p class="src"><a id="v:cortavazio" class="def">cortavazio</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:cortavazio" class="selflink">#</a></p><div class="doc"><p><strong>Elimina</strong> os blocos <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code> existentes na lista final de modo
a ficarem apenas os importantes.</p></div></div><div class="top"><p class="src"><a id="v:ordena" class="def">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:ordena" class="selflink">#</a></p><div class="doc"><p>Tal como o nome indica, esta fun&#231;ao <strong>ordena</strong> as <em>pe&#231;as</em> para a desconstru&#231;&#227;o
do mapa ser mais perceptivel.</p></div></div><div class="top"><p class="src"><a id="v:function" class="def">function</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:function" class="selflink">#</a></p><div class="doc"><p>Esta &#233; a fun&#231;&#227;o que trata de obter as <em>coordenadas</em> para cada <code><a href="LI12122.html#t:Peca" title="LI12122">Peca</a></code>.
Isto &#233;, calcula-se quantas listas tem na <em>matriz</em>, e sabe-se de quantos
em quantos <strong>x</strong> se tem de <strong>aumentar</strong> o <strong>y</strong>. Assim, &#233; poss&#237;vel calcular
as <em>coordenadas</em> de cada bloco <strong>n&#227;o</strong> <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>