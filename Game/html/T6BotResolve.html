<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>T6BotResolve</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o Carlos Oliveira Vale &lt;a100697@alunos.uminho.pt&gt;; &lt;carlosvalejcov@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">T6BotResolve</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 6 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:resolveJogo">resolveJogo</a> :: Int -&gt; <a href="T0Dados.html#t:Jogo" title="T0Dados">Jogo</a> -&gt; Maybe [<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>]</li><li class="src short"><a href="#v:resolveAuxiliar">resolveAuxiliar</a> :: Int -&gt; [<a href="T0Dados.html#t:Jogo" title="T0Dados">Jogo</a>] -&gt; [<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>] -&gt; [[<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>]]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:resolveJogo" class="def">resolveJogo</a> :: Int -&gt; <a href="T0Dados.html#t:Jogo" title="T0Dados">Jogo</a> -&gt; Maybe [<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>] <a href="#v:resolveJogo" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="T6BotResolve.html#v:resolveJogo" title="T6BotResolve">resolveJogo</a></code> &#233; a fun&#231;&#227;o que determina se o <em>Bot</em> consegue ou n&#227;o
devolver um resultado com o n&#250;mero de jogadas fornecido. Caso consiga, ir&#225; devolver apenas
uma solu&#231;&#227;o e esta ser&#225; a primeira, da&#237; o <code>head</code>, calculada por ele pois &#233; essa a que ter&#225; menor n&#250;mero 
de jogadas! <code>reverse</code> ir&#225; colocar as jogadas pela ordem correta. </p><h2>Auxiliar</h2></div></div><div class="top"><p class="src"><a id="v:resolveAuxiliar" class="def">resolveAuxiliar</a> :: Int -&gt; [<a href="T0Dados.html#t:Jogo" title="T0Dados">Jogo</a>] -&gt; [<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>] -&gt; [[<a href="T0Dados.html#t:Movimento" title="T0Dados">Movimento</a>]] <a href="#v:resolveAuxiliar" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o tem o nome de auxiliar, no entanto, &#233; a fun&#231;&#227;o principal de todo o <em>Bot</em>.</p><p>Com o <strong>acumulador</strong> <code>jogadas</code>, &#233; poss&#237;vel armazenar a lista de jogadas que o <em>Bot</em> vai fazendo at&#233;
chegar &#224; <code><a href="T0Dados.html#v:Porta" title="T0Dados">Porta</a></code> &#185;, excluindo depois aqueles que ele fez mas que <strong>n&#227;o</strong> chegaram &#224; <code><a href="T0Dados.html#v:Porta" title="T0Dados">Porta</a></code> atrav&#233;s do tamanho
da lista com as jogadas, ou seja, se o tamanho da lista for igual ao n&#250;mero de jogadas, ent&#227;o j&#225; nao
h&#225; mais jogadas possiveis e por isso, se n&#227;o chegou &#224; <code><a href="T0Dados.html#v:Porta" title="T0Dados">Porta</a></code>, ent&#227;o essa n&#227;o &#233; uma solu&#231;&#227;o! Nesse caso, ir&#225; devolver uma lista vazia!</p><p>&#185; /(sabe-se que chegou &#224; <code><a href="T0Dados.html#v:Porta" title="T0Dados">Porta</a></code>, pois atrav&#233;s das coordenadas do personagem, sabe-se a posi&#231;&#227;o que ele ocupa
nas listas do mapa. Se ap&#243;s descobrir a <code><a href="T0Dados.html#t:Peca" title="T0Dados">Peca</a></code> nas respetivas coordenadas a mesma for igual &#224; <code><a href="T0Dados.html#v:Porta" title="T0Dados">Porta</a></code>, 
ent&#227;o a fun&#231;&#227;o ir&#225; devolver a lista de movimentos correspondente!)/</p><p><code>num</code> significa o n&#250;mero de <code>jogadas</code> dados pelo utilizador. A sua utilidade na fun&#231;&#227;o foi explicada no paragrafo
anterior. </p><p><strong> <code>x &lt; 0 = []</code> </strong>: este caso de paragem em espec&#237;fico serve para cortar os casos em que o <code><a href="T0Dados.html#t:Jogador" title="T0Dados">Jogador</a></code> sai do mapa &#224;s vezes se n&#227;o tiver
muros a volta, o personagem pode sair do mapa e dar casos negativos, por exemplo.</p><p>Por fim, ap&#243;s o <code>otherwise</code>, a fun&#231;&#227;o testa sempre se a posi&#231;&#227;o em que se encontra o boneco (para as quatro jogadas
poss&#237;veis), assim como o estado do mapa, ja foram repetidos alguma vez. Isto &#233;, se as <code>Pecas</code> e o estado do personagem estiverem iguais ao que j&#225; estiveram alguma vez, 
ent&#227;o a fun&#231;&#227;o n&#227;o faz nada. No caso de ser diferente, a fun&#231;&#227;o ir&#225; juntar esse movimento, 
que proporcionou um Mapa diferente, &#224; lista de listas de <code>jogadas</code>! </p><ul><li>- <code>pos</code> representa um <code><a href="T0Dados.html#t:Jogo" title="T0Dados">Jogo</a></code></li><li>- <code>list</code> representa a lista onde se v&#227;o armazenas as jogadas diferentes!</li></ul><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moveJogador (Jogo [[Bloco,Porta,Vazio,Vazio,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]] (Jogador (3,0) Oeste False)) AndarEsquerda)
</code></strong>[(Jogo [[Bloco,Porta,Vazio,Vazio,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]] (Jogador (3,0) Oeste False)),(Jogo [[Bloco,Porta,Vazio,Vazio,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]] (Jogador (2,0) Oeste False))]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moveJogador (Jogo [[Bloco,Porta,Vazio,Vazio,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]] (Jogador (3,0) Este False)) AndarDireita)
</code></strong>[(Jogo [[Bloco,Porta,Vazio,Vazio,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]] (Jogador (3,0) Este False))]
</pre><p>Estes exemplos s&#227;o apenas para o que a fun&#231;&#227;o faz no <code>otherwise</code>!</p><p>O aspeto mais importante nesta fun&#231;&#227;o &#233; o teste de igualdade, pois &#233; isso que vai fazer devolver sempre a jogada
com o menor n&#250;mero de movimentos poss&#237;veis, pois rejeita aqueles que n&#227;o afetam o mapa, ou seja, desnecess&#225;rios!</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>